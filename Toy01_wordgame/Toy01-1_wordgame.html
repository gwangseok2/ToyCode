<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>끝말잇기</title>
    </head>
    <body>
        <div><span id="order">1</span>번째 참가자</div>
        <div>제시어: <span id="word"></span></div>

        <input type="text" placeholder="입력 해주세요" />
        <button>입력</button>

        <script>
            const UserLength = parseInt(prompt("참가 인원을 입력해주세요."));
            if(!UserLength) {
                alert('빈 값 입니다.');
                location.reload();
            } else {
                const yesOrNo = confirm(UserLength + "명이 맞나요?");
            }

            const $input = document.querySelector("input[type=text]");
            const $button = document.querySelector("button");
            const $word = document.querySelector("#word");
            const $order = document.querySelector("#order");
            let wordVal = "";
            let wordNewVal = "";

            $input.addEventListener("input", textCheck);
            $button.addEventListener("click", buttonClick);

            function textCheck(e) {
                wordNewVal = e.target.value;
            }

            function buttonClick() {
                if (!wordVal) {
                    wordVal = wordNewVal;
                    $word.innerText = wordNewVal;
                    $input.value = "";
                } else {
                    if (wordVal[wordVal.length - 1] === wordNewVal[0]) {
                        const $orderVal = parseInt($order.innerText);
                        wordVal = wordNewVal;

                        if (UserLength !== $orderVal) {
                            // $orderVal++;
                            $order.innerText = $orderVal + 1;
                        } else {
                            $order.innerText = 1;
                        }

                        $word.innerText = wordNewVal;
                    } else {
                        alert("앞뒤가 다름");
                    }
                    console.log(wordVal[1]);
                    $input.value = "";
                }
            }
        </script>
    </body>
</html>
